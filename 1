#include <iostream>
using namespace::std;

struct Node {
	int data;
	Node* next;
	Node* prev;
};

void initList(Node* head, int elem) {
	head->data = elem;
	head->next = NULL;
	head->prev = NULL;
}

void pushBack(Node* head, int elem) {
	Node* value = new Node;
	initList(value, elem);
	while (head->next != NULL)
		head = head->next;
	value->prev = head;
	head->next = value;
}

void printList(Node* head) {
	int i = 1;
	while (head != NULL) {
		cout << i << "-й элемент списка: " << head->data << endl;
		head = head->next;
		i++;
	}
}

void popEven(Node* head) {
	int i = 1;
	while (head) {
		if (i % 2 == 0) {
			head->prev->next = head->next;
			if (head->next)
				head->next->prev = head->prev;
			Node* t = head;
			head = head->next;
			t->next = NULL;
			t->prev = NULL;
			delete t;
		}
		else
			head = head->next;
		i++;
	}
}

int main() {
	setlocale(LC_ALL, "RU");
	cout << "Введите количество элементов в списке: ";
	int count;
	cin >> count;
	while (count <= 0) {
		cout << "Количество элементов должно быть больше нуля: ";
		cin >> count;
	}
	cout << "Введите 1-й элемент списка: ";
	int x;
	cin >> x;
	Node* l = new Node;
	initList(l, x);
	for (int i = 1; i < count; i++) {
		cout << "Введите " << i + 1 << "-й элемент списка: ";
		cin >> x;
		pushBack(l, x);
	}
	popEven(l);
	cout << "\nНовый список:\n";
	printList(l);
	return 0;
}
