#include <iostream>
using namespace::std;

struct Node {
	int data;
	Node* next;
	Node* prev;
};

void initList(Node* head, int elem) {
	head->data = elem;
	head->next = NULL;
	head->prev = NULL;
}

void pushBack(Node* head, int elem) {
	Node* value = new Node;
	initList(value, elem);
	while (head->next != NULL)
		head = head->next;
	value->prev = head;
	head->next = value;
}

int sum(Node* head) {
	Node* t = head;
	while (t->next)
		t = t->next;
	int sum = 0;
	while (head && t) {
		cout << "Сумма = " << sum << " + " << head->data << " * " << t->data << " = " <<
			sum + head->data * t->data << endl;
		sum += head->data * t->data;
		head = head->next;
		t = t->prev;
	}
	return sum;
}

int main() {
	setlocale(LC_ALL, "RU");
	Node* l = new Node;
	cout << "Введите элементы (0 - выход): ";
	int x;
	cin >> x;
	if (x == 0)
		return 0;
	initList(l, x);
	cin >> x;
	while (x != 0) {
		pushBack(l, x);
		cin >> x;
	}
	cout << endl;
	sum(l);
	return 0;
}
